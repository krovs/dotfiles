- defaults:
    link:
      create: true
      relink: true
      force: true

- create:
    - ~/.config/kitty

- link:
    ~/.config/kitty: .config/kitty
    ~/.config/fish/conf.d: .config/fish/conf.d
    ~/.config/niri/custom.kdl: .config/niri/custom.kdl
    ~/.config/starship.toml: .config/starship.toml

- shell:
    - description: Add custom.kdl include to niri config
      command: grep -qF 'include "./custom.kdl"' ~/.config/niri/config.kdl 2>/dev/null || echo 'include "./custom.kdl"' >> ~/.config/niri/config.kdl
    # - description: Setup starship catppuccin-powerline preset
    #   command: starship preset catppuccin-powerline -o ~/.config/starship.toml
